### ν”λ«νΌ νƒ€μ…κ³Ό λ„ κ°€λ¥μ„± μ–΄λ…Έν…μ΄μ…

μ•μ„ `21.1`μ—μ„ μ½”ν‹€λ¦°-μλ°” μƒνΈμ΄μ©μ„±μ κ°€μ¥ ν° μ„ν—μ€ μ½”ν‹€λ¦°μ λ„ μ•μ •μ„±μ„ λ¬΄λ ¥ν™”μ‹ν‚¤λ” \*\*ν”λ«νΌ νƒ€μ…(`String!`)\*\*μ΄λΌκ³  κ°•μ΅°ν–μµλ‹λ‹¤. μ½”ν‹€λ¦° μ»΄νμΌλ¬λ” μλ°” μ½”λ“μ `null` κ°€λ¥ μ—¬λ¶€λ¥Ό μ•μ§€ λ»ν•κΈ° λ•λ¬Έμ—, κ°λ°μμ—κ² λ¨λ“  μ±…μ„μ„ λ– λ„κΉλ‹λ‹¤.

κ·Έλ ‡λ‹¤λ©΄ μ΄ μ„ν—ν• 'μ¶”μΈ΅μ μμ—­'μ„ μ—†μ• κ³ , μλ°” APIμ΅°μ°¨ μ½”ν‹€λ¦°μ λ„ μ•μ •μ„± μ‹μ¤ν… μ•μΌλ΅ μ™„λ²½ν•κ² λμ–΄λ“¤μΌ λ°©λ²•μ€ μ—†μ„κΉμ”?

ν•΄λ‹µμ€ μλ°” μ½”λ“μ— \*\*λ„ κ°€λ¥μ„± μ–΄λ…Έν…μ΄μ…(Nullability Annotations)\*\*μ„ μ¶”κ°€ν•λ” κ²ƒμ…λ‹λ‹¤.

-----

#### μ½”ν‹€λ¦° μ»΄νμΌλ¬μ™€ μ–΄λ…Έν…μ΄μ…μ κ³„μ•½

μ½”ν‹€λ¦° μ»΄νμΌλ¬λ” `org.jetbrains.annotations`(@NotNull, @Nullable)λ‚ JSR 305(@Nonnull, @Nullable) λ“± ν‘μ¤€ λ„ κ°€λ¥μ„± μ–΄λ…Έν…μ΄μ…μ„ μΈμ§€ν•λ„λ΅ μ„¤κ³„λμ—μµλ‹λ‹¤. μλ°” μ½”λ“μ— μ΄ μ–΄λ…Έν…μ΄μ…λ“¤μ΄ λ¶™μ–΄μμΌλ©΄, μ½”ν‹€λ¦° μ»΄νμΌλ¬λ” ν”λ«νΌ νƒ€μ…μ„ μ‚¬μ©ν•λ” λ€μ‹  μ΄ 'ννΈ'λ¥Ό μ λ€μ μΌλ΅ μ‹ λΆ°ν•μ—¬ ν•΄λ‹Ή νƒ€μ…μ„ λ…ν™•ν• μ½”ν‹€λ¦° νƒ€μ…μΌλ΅ λ³€ν™ν•©λ‹λ‹¤.

  * **Java `@NotNull`** + `String` β†’ **Kotlin `String`** (Non-nullable)
  * **Java `@Nullable`** + `String` β†’ **Kotlin `String?`** (Nullable)
  * **Annotation μ—†μ** + `String` β†’ **Kotlin `String!`** (Platform Type - μ„ν—\!)

-----

#### μμ : μ–΄λ…Έν…μ΄μ…μΌλ΅ μλ°” API κµμ •ν•κΈ°

μλ°” APIκ°€ λ‹¤μκ³Ό κ°™μ΄ μ‘μ„±λμ–΄ μλ‹¤κ³  κ°€μ •ν•΄ λ΄…μ‹λ‹¤.

**[μ–΄λ…Έν…μ΄μ…μ΄ μ μ©λ μλ°” μ½”λ“: `JavaUserApi.java`]**

```java
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

public class JavaUserApi {

    // μ΄ λ©”μ„λ“λ” μ λ€ nullμ„ λ°ν™ν•μ§€ μ•μμ„ λ³΄μ¥ν•©λ‹λ‹¤.
    @NotNull
    public String findUserName(int id) {
        return "User" + id;
    }

    // μ΄ λ©”μ„λ“λ” nullμ„ λ°ν™ν•  μλ„ μμμ„ λ…μ‹ν•©λ‹λ‹¤.
    @Nullable
    public String findUserNickname(int id) {
        if (id == 1) {
            return "Duke";
        }
        return null; // null λ°ν™μ΄ ν•©λ²•μ 
    }

    // μ–΄λ…Έν…μ΄μ…μ΄ μ—†λ” λ κ±°μ‹ λ©”μ„λ“
    public String getLegacyStatus(int id) {
        return "Legacy";
    }
}
```

**[μ„ APIλ¥Ό νΈμ¶ν•λ” μ½”ν‹€λ¦° μ½”λ“]**

```kotlin
fun main() {
    val api = JavaUserApi()

    // 1. @NotNull μ²λ¦¬
    // μ»΄νμΌλ¬κ°€ APIλ¥Ό 'fun findUserName(Int): String' (Non-null)μΌλ΅ μΈμ‹ν•©λ‹λ‹¤.
    val name: String = api.findUserName(1)
    // val nullableName: String? = api.findUserName(1) // κ²½κ³ λ” λ¨μ§€λ§ ν• λ‹Ήμ€ κ°€λ¥

    // 2. @Nullable μ²λ¦¬
    // μ»΄νμΌλ¬κ°€ APIλ¥Ό 'fun findUserNickname(Int): String?' (Nullable)λ΅ μΈμ‹ν•©λ‹λ‹¤.
    val nickname: String? = api.findUserNickname(1)
    
    // val errorName: String = api.findUserNickname(1) 
    // π’¥ μ»΄νμΌ μ¤λ¥! Type mismatch.
    // Nullable νƒ€μ…μ„ Non-null λ³€μμ— ν• λ‹Ήν•  μ μ—†μµλ‹λ‹¤.

    // 3. μ–΄λ…Έν…μ΄μ… μ—†λ” λ κ±°μ‹ μ²λ¦¬
    // μ»΄νμΌλ¬λ” μ΄ APIλ¥Ό 'fun getLegacyStatus(Int): String!' (ν”λ«νΌ νƒ€μ…)μΌλ΅ μΈμ‹ν•©λ‹λ‹¤.
    val status: String = api.getLegacyStatus(1) // μ»΄νμΌμ€ ν†µκ³Όν•μ§€λ§, λ°νƒ€μ„ NPE μ„ν—!
}
```

κ°€μ¥ μ£Όλ©ν•΄μ•Ό ν•  λ¶€λ¶„μ€ 2λ²(`@Nullable`)μ…λ‹λ‹¤. μλ°” μ½”λ“μ— `@Nullable` μ–΄λ…Έν…μ΄μ… ν•λ‚λ¥Ό λ¶™μ—¬μ¤€ λ•λ¶„μ—, μ½”ν‹€λ¦° κ°λ°μκ°€ μ‹¤μλ΅ λ„ κ°’μ„ Non-null λ³€μμ— ν• λ‹Ήν•λ ¤λ” μ‹λ„κ°€ \*\*λ°νƒ€μ„ `NPE`\*\*μ—μ„ **μ»΄νμΌ νƒ€μ„ μ¤λ¥**λ΅ λ°”λ€μ—μµλ‹λ‹¤. μ¦‰, μλ°” APIλ¥Ό μ½”ν‹€λ¦°μ λ„ μ•μ •μ„± μ‹μ¤ν… μ•μΌλ΅ μ™„λ²½ν•κ² νΈμ…μ‹ν‚¨ κ²ƒμ…λ‹λ‹¤.

-----

**μ¥μΈμ ν™©κΈλ¥ :**
λ§μ•½ λ‹Ήμ‹ μ΄ μ½”ν‹€λ¦°μ—μ„ νΈμ¶ν•΄μ•Ό ν•  μλ°” λΌμ΄λΈλ¬λ¦¬λ‚ λ κ±°μ‹ μ½”λ“λ¥Ό μ§μ ‘ μ μ–΄ν•  μ μλ‹¤λ©΄, **λ¨λ“  public λ©”μ„λ“μ νλΌλ―Έν„°μ™€ λ°ν™ νƒ€μ…μ— `@NotNull` λλ” `@Nullable` μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ΄λ” κ²ƒ**μ΄ μƒνΈμ΄μ©μ„±μ„ μ„ν• κ°€μ¥ μ¤‘μ”ν•κ³  κ°€μΉ μλ” μ‘μ—…μ…λ‹λ‹¤. μ΄λ” μ½”ν‹€λ¦° μƒνƒκ³„ μ „μ²΄μ μ•μ „μ„±μ— κΈ°μ—¬ν•λ” μΌμ…λ‹λ‹¤.

μ΄κ²ƒμΌλ΅ μλ°”μ™€μ μƒνΈμ΄μ©μ„±μ„ λ‹¤λ£¨λ” 21μ¥μ„ λ§μΉ©λ‹λ‹¤. μ½”ν‹€λ¦°μ€ μλ°”λ¥Ό λ§¤λ„λ½κ² νΈμ¶ν•μ§€λ§(`ν•©μ„± ν”„λ΅νΌν‹°`), `ν”λ«νΌ νƒ€μ…`μ΄λΌλ” μ„ν—μ„ μ•κ³  μμµλ‹λ‹¤. λ°λ€λ΅ μλ°”λ” μ½”ν‹€λ¦°μ κ³ κΈ‰ κΈ°λ¥μ„ μ§μ ‘ μ΄ν•΄ν•μ§€ λ»ν•λ―€λ΅ `@JvmStatic` κ°™μ€ μ–΄λ…Έν…μ΄μ… λ²μ—­κΈ°κ°€ ν•„μ”ν•©λ‹λ‹¤. κ·Έλ¦¬κ³  μ΄ λ‘ μ„Έκ³„λ¥Ό μ‡λ” λ‹¤λ¦¬λ¥Ό κ°€μ¥ μ•μ „ν•κ² λ§λ“λ” μ‹λ©νΈκ°€ λ°”λ΅ `@Nullable`κ³Ό `@NotNull` μ–΄λ…Έν…μ΄μ…μ…λ‹λ‹¤.