### 단일 표현식 함수(Single-Expression Functions)

코틀린은 코드의 간결함과 가독성을 매우 중시하는 언어입니다. 이러한 철학을 잘 보여주는 기능 중 하나가 바로 **단일 표현식 함수**입니다. 이름에서 알 수 있듯이, 함수 본문이 단 하나의 표현식(Expression)으로만 이루어져 있을 때, 훨씬 더 간결한 문법을 사용할 수 있도록 해줍니다.

-----

#### 블록 본문(Block Body) vs. 표현식 본문(Expression Body)

지금까지 우리가 작성한 함수들은 중괄호(`{ ... }`)를 사용하는 **블록 본문** 형식이었습니다.

```kotlin
// 두 수 중 더 큰 값을 반환하는 함수 (블록 본문)
fun maxOf(a: Int, b: Int): Int {
    return if (a > b) a else b
}
```

이 `maxOf` 함수는 본문이 `return` 문 하나로만 이루어져 있고, 그 뒤에 오는 `if-else`는 값을 반환하는 표현식입니다. 즉, 이 함수는 '단일 표현식'으로 이루어져 있다고 볼 수 있습니다. 코틀린은 이런 경우, 다음과 같이 코드를 혁신적으로 줄일 수 있도록 허용합니다.

```kotlin
// 위와 동일한 함수 (표현식 본문)
fun maxOf(a: Int, b: Int): Int = if (a > b) a else b
```

두 가지 중요한 변화가 있습니다.

1.  함수 본문을 감싸던 **중괄호(`{ ... }`)가 사라지고, 그 자리를 등호(`=`)가 대체**했습니다.
2.  결과 값을 명시적으로 반환하던 **`return` 키워드가 사라졌습니다.**

등호(`=`) 뒤에 오는 표현식의 결과 값이 자동으로 이 함수의 반환 값이 됩니다. 코드가 마치 수학 공식처럼 " `maxOf(a, b)`는 `if (a > b) a else b`와 같다"라고 선언하는 것처럼 읽힙니다.

-----

#### 반환 타입 추론과의 결합

여기서 단일 표현식 함수의 진정한 마법이 시작됩니다. 컴파일러는 등호(`=`) 뒤에 오는 표현식의 타입을 보고, 이 함수의 반환 타입을 스스로 **추론**할 수 있습니다.

위 예시에서 `if (a > b) a else b` 표현식은 `a`와 `b`가 모두 `Int`이므로, 그 결과 값 역시 `Int` 타입일 수밖에 없습니다. 컴파일러는 이 사실을 이미 알고 있기 때문에, 개발자는 굳이 `: Int` 라고 반환 타입을 적어줄 필요가 없습니다.

```kotlin
// 반환 타입(: Int)까지 생략한 최종 형태
// 컴파일러가 if-else 표현식의 결과가 Int임을 추론합니다.
fun maxOf(a: Int, b: Int) = if (a > b) a else b
```

이처럼 단일 표현식 함수는 타입 추론과 결합될 때 가장 강력한 간결함을 보여줍니다.

다른 예시를 살펴볼까요?

```kotlin
// 블록 본문
fun createGreeting(name: String): String {
    return "Hello, $name!"
}

// 단일 표현식 함수
fun createGreeting(name: String) = "Hello, $name!"
```

한 줄짜리 함수를 위해 `return`과 중괄호를 사용하는 대신, 등호 하나로 훨씬 더 직관적이고 우아하게 함수를 정의할 수 있습니다.

#### 언제 사용해야 할까?

단일 표현식 함수는 코드를 극적으로 줄여주지만, 모든 상황에 적합한 것은 아닙니다.

  * **사용하기 좋은 경우:** 함수가 이름 그대로 하나의 값을 계산하여 반환하는 단순한 로직으로 구성될 때.
  * **피해야 할 경우:** 함수 내부에 여러 단계의 연산이 필요하거나, 로깅, 값의 변경 등 여러 작업을 수행할 때는 가독성을 위해 전통적인 블록 본문을 사용하는 것이 좋습니다.

단일 표현식 함수는 '어떻게' 계산하는지보다 '무엇'을 반환하는지에 초점을 맞춰, 코드의 의도를 명확하게 드러내는 훌륭한 도구입니다. 이 기능을 적극적으로 활용하면 여러분의 코드는 더욱 코틀린스러워질 것입니다.