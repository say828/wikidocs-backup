### μ–΄λ…Έν…μ΄μ… ν΄λμ¤(Annotation Classes)

\*\*μ–΄λ…Έν…μ΄μ…(Annotation)\*\*μ€ μ½”λ“ μμ²΄μ μΌλ¶€λΌκΈ°λ³΄λ‹¤λ”, μ½”λ“μ— λ€ν• \*\*λ¶€κ°€ μ •λ³΄(Metadata)\*\*λ¥Ό λ¶™μ΄κΈ° μ„ν•΄ μ‚¬μ©λλ” νΉλ³„ν• λ¬Έλ²• μ”μ†μ…λ‹λ‹¤. μ–΄λ…Έν…μ΄μ…μ€ μ§μ ‘μ μΈ λ΅μ§μ„ μν–‰ν•μ§€ μ•μ§€λ§, μ»΄νμΌλ¬λ‚ λ‹¤λ¥Έ ν”„λ΅κ·Έλ¨(ν”„λ μ„μ›ν¬, λΌμ΄λΈλ¬λ¦¬ λ“±)μ΄ μ΄ μ •λ³΄λ¥Ό μ½κ³  νΉλ³„ν• λ°©μ‹μΌλ΅ μ½”λ“λ¥Ό μ²λ¦¬ν•λ„λ΅ λ§λ“¤ μ μμµλ‹λ‹¤.

π·οΈ **λΉ„μ :** μ–΄λ…Έν…μ΄μ…μ€ μ½”λ“μ— λ¶™μ΄λ” 'κΌ¬λ¦¬ν‘'λ‚ 'μ¤ν‹°μ»¤'μ™€ κ°™μµλ‹λ‹¤. `@Deprecated`λΌλ” μ¤ν‹°μ»¤λ” "μ΄ μ½”λ“λ” λ‚΅μ•μΌλ‹ μ‚¬μ©ν•μ§€ λ§μ„Έμ”\!"λΌλ” μ •λ³΄λ¥Ό, `@Test`λΌλ” μ¤ν‹°μ»¤λ” "μ΄ ν•¨μλ” ν…μ¤νΈμ©μ…λ‹λ‹¤\!"λΌλ” μ •λ³΄λ¥Ό μ•λ ¤μ¤λ‹λ‹¤.

-----

#### μ–΄λ…Έν…μ΄μ… μ‚¬μ©ν•κΈ°

μ½”ν‹€λ¦°μ—μ„λ” μ΄λ―Έ ν‘μ¤€ λΌμ΄λΈλ¬λ¦¬λ‚ JUnitκ³Ό κ°™μ€ μ λ… ν”„λ μ„μ›ν¬μ— μ •μλ λ‹¤μ–‘ν• μ–΄λ…Έν…μ΄μ…μ„ `@` κΈ°νΈμ™€ ν•¨κ» μ‚¬μ©ν•©λ‹λ‹¤.

  * **`@Deprecated`**: λ” μ΄μƒ μ‚¬μ©λμ§€ μ•λ” ν΄λμ¤λ‚ ν•¨μλ¥Ό ν‘μ‹ν•©λ‹λ‹¤. IDEλ” μ΄ μ½”λ“λ¥Ό μ‚¬μ©ν•λ” κ³³μ— μ·¨μ†μ„ μ„ ν‘μ‹ν•κ³ , λ” λ‚μ€ λ€μ•μ„ μ μ‹ν•΄ μ¤„ μ μμµλ‹λ‹¤.

    ```kotlin
    @Deprecated("λ” μ΄μƒ μ‚¬μ©ν•μ§€ μ•μµλ‹λ‹¤. newFunction()μΌλ΅ λ€μ²΄ν•μ„Έμ”.", ReplaceWith("newFunction()"))
    fun oldFunction() { /* ... */ }
    ```

  * **`@JvmStatic`**: λ™λ° κ°μ²΄μ λ©¤λ²„λ¥Ό μλ°” μ½”λ“μ—μ„ μ§„μ§ `static` λ©¤λ²„μ²λΌ νΈμ¶ν•  μ μλ„λ΅ ν•΄μ¤λ‹λ‹¤.

  * **`@Test`**: JUnitκ³Ό κ°™μ€ ν…μ¤νΈ ν”„λ μ„μ›ν¬μ—κ² μ΄ ν•¨μκ°€ ν…μ¤νΈ μΌ€μ΄μ¤μ„μ„ μ•λ ¤μ¤λ‹λ‹¤.

-----

#### μ§μ ‘ μ–΄λ…Έν…μ΄μ… λ§λ“¤κΈ°: `annotation class`

μ½”ν‹€λ¦°μ—μ„λ” `annotation class` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ°λ¦¬λ§μ μ»¤μ¤ν…€ μ–΄λ…Έν…μ΄μ…μ„ μ§μ ‘ λ§λ“¤ μ μμµλ‹λ‹¤.

##### κΈ°λ³Έ μ–΄λ…Έν…μ΄μ…

```kotlin
// κ°€μ¥ κ°„λ‹¨ν• ν•νƒμ μ–΄λ…Έν…μ΄μ… μ„ μ–Έ
annotation class MyTest
```

##### νλΌλ―Έν„°κ°€ μλ” μ–΄λ…Έν…μ΄μ…

μ–΄λ…Έν…μ΄μ…μ€ ν΄λμ¤μ μ£Ό μƒμ„±μμ²λΌ νλΌλ―Έν„°λ¥Ό κ°€μ§ μ μμ–΄, λ” κµ¬μ²΄μ μΈ μ •λ³΄λ¥Ό μ „λ‹¬ν•  μ μμµλ‹λ‹¤.

```kotlin
// JSON μ§λ ¬ν™” μ‹ μ‚¬μ©ν•  ν‚¤ μ΄λ¦„μ„ μ§€μ •ν•λ” μ–΄λ…Έν…μ΄μ…
annotation class JsonName(val name: String)
```

μ΄μ  μ΄ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ ν΄λμ¤ ν”„λ΅νΌν‹°μ— μ¶”κ°€ μ •λ³΄λ¥Ό λ¶™μΌ μ μμµλ‹λ‹¤.

```kotlin
class User(
    @JsonName("user_name") // μ΄ ν”„λ΅νΌν‹°λ” JSONμ—μ„ "user_name"μ΄λΌλ” ν‚¤λ΅ λ³€ν™λ  κ²ƒμ΄λ‹¤.
    val name: String,
    
    val age: Int
)
```

μ΄ν›„ Jacksonμ΄λ‚ Gson κ°™μ€ λΌμ΄λΈλ¬λ¦¬λ” λ¦¬ν”λ ‰μ…μ„ ν†µν•΄ `@JsonName` μ–΄λ…Έν…μ΄μ…μ„ μ½κ³ , `name` ν”„λ΅νΌν‹°λ¥Ό "name"μ΄ μ•„λ‹ "user\_name"μΌλ΅ μ§λ ¬ν™”ν•κ² λ©λ‹λ‹¤.

-----

#### μ–΄λ…Έν…μ΄μ… μ‚¬μ© λ€μƒ μ§€μ • (Use-site Targets)

ν•λ‚μ μ½”λ“ μ”μ†μ—λ” μ–΄λ…Έν…μ΄μ…μ„ λ¶™μΌ μ μλ” μ„μΉκ°€ μ—¬λ¬ κ°μΌ μ μμµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, ν΄λμ¤μ ν”„λ΅νΌν‹°μ—λ” ν”„λ΅νΌν‹° μμ²΄, getter, setter, μƒμ„±μ νλΌλ―Έν„° λ“±μ΄ μμµλ‹λ‹¤.

μ½”ν‹€λ¦°μ€ μ–΄λ…Έν…μ΄μ…μ΄ μ •ν™•ν μ–΄λ””μ— μ μ©λμ–΄μ•Ό ν•λ”μ§€λ¥Ό λ…μ‹ν•κΈ° μ„ν•΄ **μ‚¬μ© λ€μƒ(Use-site Target)** λ¬Έλ²•μ„ μ κ³µν•©λ‹λ‹¤.

```kotlin
class User(
    // @param: μ–΄λ…Έν…μ΄μ…μ„ μ£Ό μƒμ„±μμ νλΌλ―Έν„°μ—λ§ μ μ©
    @param:JsonName("user_id") val id: String,

    // @get: μ–΄λ…Έν…μ΄μ…μ„ ν”„λ΅νΌν‹°μ getterμ—λ§ μ μ©
    @get:JsonIgnore val internalCode: String 
)
```

μ£Όμ” μ‚¬μ© λ€μƒμ€ `@property`, `@field`, `@get`, `@set`, `@param` λ“±μ΄ μμµλ‹λ‹¤.

#### λ©”νƒ€ μ–΄λ…Έν…μ΄μ…

μ–΄λ…Έν…μ΄μ…μ„ μ •μν•  λ•, κ·Έ μ–΄λ…Έν…μ΄μ… μμ²΄μ λ™μ‘μ„ μ μ–΄ν•λ” μ–΄λ…Έν…μ΄μ…μ„ λ¶™μΌ μ μμΌλ©°, μ΄λ¥Ό **λ©”νƒ€ μ–΄λ…Έν…μ΄μ…**μ΄λΌκ³  ν•©λ‹λ‹¤.

  * **`@Target`**: μ΄ μ–΄λ…Έν…μ΄μ…μ„ λ¶™μΌ μ μλ” μ½”λ“ μ”μ†μ μΆ…λ¥λ¥Ό μ ν•ν•©λ‹λ‹¤. (μ: `AnnotationTarget.CLASS`, `FUNCTION`, `PROPERTY`)
  * **`@Retention`**: μ–΄λ…Έν…μ΄μ… μ •λ³΄λ¥Ό μ–Έμ κΉμ§€ μ μ§€ν• μ§€λ¥Ό κ²°μ •ν•©λ‹λ‹¤. (`AnnotationRetention.SOURCE`, `BINARY`, `RUNTIME`)
  * **`@Repeatable`**: κ°™μ€ μ”μ†μ— λ™μΌν• μ–΄λ…Έν…μ΄μ…μ„ μ—¬λ¬ λ² λ¶™μΌ μ μλ„λ΅ ν—μ©ν•©λ‹λ‹¤.
  * **`@MustBeDocumented`**: API λ¬Έμ„μ— μ΄ μ–΄λ…Έν…μ΄μ…μ΄ ν¬ν•¨λλ„λ΅ ν•©λ‹λ‹¤.

<!-- end list -->

```kotlin
@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION) // ν΄λμ¤μ™€ ν•¨μμ—λ§ μ‚¬μ© κ°€λ¥
@Retention(AnnotationRetention.RUNTIME) // λ°νƒ€μ„μ—λ„ μ–΄λ…Έν…μ΄μ… μ •λ³΄λ¥Ό μ μ§€
annotation class MyFrameworkAnnotation
```

μ–΄λ…Έν…μ΄μ…μ€ μ½”λ“μ— μ„ μ–Έμ μΈ λ°©μ‹μΌλ΅ λ©”νƒ€λ°μ΄ν„°λ¥Ό μ¶”κ°€ν•λ” κ°•λ ¥ν• λ©”νƒ€ν”„λ΅κ·Έλλ° λ„κµ¬μ…λ‹λ‹¤. μ΄λ” μ¤ν”„λ§(Spring), JUnit, Room λ“± μλ§μ€ ν„λ€μ μΈ ν”„λ μ„μ›ν¬μ™€ λΌμ΄λΈλ¬λ¦¬κ°€ λ³΄μΌλ¬ν”λ μ΄νΈ μ½”λ“λ¥Ό μ¤„μ΄κ³  κ°•λ ¥ν• κΈ°λ¥μ„ μ κ³µν•λ” ν•µμ‹¬ μ›λ¦¬μ…λ‹λ‹¤.