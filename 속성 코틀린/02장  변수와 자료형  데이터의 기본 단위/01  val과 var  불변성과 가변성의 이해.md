### val과 var: 불변성과 가변성의 이해

프로그램에서 데이터를 담는 그릇인 변수를 선언할 때, 코틀린은 우리에게 두 가지 키워드를 제시합니다: `val`과 `var`. 이 둘의 차이를 이해하고 올바르게 사용하는 것은 깨끗하고 안전한 코드를 작성하는 가장 기본적이고 중요한 첫걸음입니다.

#### val (Value) - 바꿀 수 없는 값 (Immutable)

`val`은 \*\*값(Value)\*\*을 의미하며, **한 번 할당되면 절대 재할당할 수 없는** 읽기 전용 변수를 선언할 때 사용합니다. 마치 수학에서 한 번 정의된 파이($\\pi$) 값이 영원히 변하지 않는 것과 같습니다. 자바의 `final` 키워드와 동일한 역할을 합니다.

```kotlin
// val로 선언한 변수는 최초 한 번만 값을 할당할 수 있습니다.
val name: String = "Kotlin"
val birthYear: Int = 2011

// name = "Java" // 컴파일 오류! val 변수에는 새로운 값을 재할당할 수 없습니다.
```

**왜 `val`을 사용해야 할까요?**

`val`을 사용하는 것은 단순히 값을 바꾸지 못하게 막는 것을 넘어, **코드의 안정성과 예측 가능성을 극적으로 높여줍니다.**

1.  **예측 가능성 (Readability):** 코드 어딘가에서 `val`로 선언된 변수를 마주쳤을 때, 우리는 '이 변수의 값은 이 범위 안에서는 절대 변하지 않을 것'이라고 확신하며 코드를 읽을 수 있습니다. 값의 변화를 추적할 필요가 없어 인지적 부담이 줄어들고, 코드의 흐름을 이해하기가 훨씬 쉬워집니다.

2.  **안전성 (Thread Safety):** 여러 코드 블록이 동시에 실행되는 **동시성 프로그래밍** 환경에서, 값이 변하지 않는 `val`은 아무런 보호 장치 없이 여러 스레드(Thread)에서 동시에 접근해도 안전합니다. 데이터가 바뀔 염려가 없기 때문입니다. 이는 수많은 잠재적인 버그를 원천적으로 차단하는 매우 강력한 특성입니다.

> **코틀린 프로그래밍 제1원칙: "모든 변수는 일단 `val`로 선언하라. 꼭 필요한 경우에만 `var`로 변경하라."**

-----

#### var (Variable) - 바꿀 수 있는 값 (Mutable)

`var`는 \*\*변수(Variable)\*\*를 의미하며, 이름 그대로 **언제든지 값을 재할당할 수 있는** 변수를 선언할 때 사용합니다. 게임의 점수, 반복문의 카운터처럼 상태가 계속해서 변해야 하는 데이터를 담을 때 적합합니다.

```kotlin
var score: Int = 100
println(score) // 출력: 100

// var로 선언한 변수는 언제든지 값을 변경할 수 있습니다.
score = 120
println(score) // 출력: 120
```

`var`는 분명 필요한 도구이지만, 남용될 경우 코드의 복잡도를 높이는 원인이 될 수 있습니다. 어떤 값이 프로그램의 어느 시점에서, 누구에 의해 변경되었는지 추적하기가 어려워지고, 이는 버그의 원인이 되기도 합니다.

-----

#### 중요한 관점: 불변 참조 vs 불변 객체

여기서 한 가지 중요한 점을 짚고 넘어가야 합니다. `val`은 변수가 가리키는 **참조(reference)를 바꿀 수 없다는 뜻이지, 그 참조가 가리키는 객체의 내부 내용까지 바꿀 수 없다는 뜻은 아닙니다.**

예를 들어, 내부에 요소를 추가하거나 삭제할 수 있는 '가변 리스트(Mutable List)'가 있다고 가정해 봅시다.

```kotlin
// 'numbers'라는 val 변수는 '가변 리스트' 객체 하나를 가리키고 있다.
val numbers = mutableListOf("one", "two", "three")

// numbers = mutableListOf("four", "five") // 컴파일 오류!
// numbers 변수가 다른 리스트 객체를 가리키도록 참조를 바꾸는 것은 불가능하다.

// 하지만 numbers 변수가 가리키고 있는 바로 그 리스트 객체의 *내부*를 조작하는 것은 가능하다.
numbers.add("four")

println(numbers) // 출력: [one, two, three, four]
```

이처럼 `val`은 한번 정해진 주소값을 바꾸지 못하게 막는 '주소 고정'의 의미로 이해하는 것이 정확합니다.

**결론적으로, `val`을 기본으로 사용하는 습관은 코틀린을 코틀린답게 만드는 핵심 철학입니다.** 이 간단한 규칙 하나만으로도 당신의 코드는 훨씬 더 안전하고, 간결하며, 이해하기 쉬운 코드로 거듭날 것입니다.