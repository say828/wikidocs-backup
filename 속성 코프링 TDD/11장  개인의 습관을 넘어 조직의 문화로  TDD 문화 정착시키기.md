# 11장: 개인의 습관을 넘어 조직의 문화로: TDD 문화 정착시키기

지금까지 우리는 TDD의 철학, 도구, 그리고 다양한 실전 적용 기술을 배우며 TDD 전문가로 거듭나는 긴 여정을 걸어왔다. 그린필드 프로젝트부터 레거시 시스템까지, 기능적 요구사항부터 비기능적 요구사항까지, 이제 우리는 어떤 문제라도 TDD를 통해 자신감 있게 해결할 수 있는 능력을 갖추었다.

하지만 소프트웨어 개발은 혼자 하는 예술이 아닌, 함께 연주하는 오케스트라와 같다. 나 혼자 TDD의 대가가 되더라도, 팀 전체가 TDD의 가치를 이해하고 함께 실천하지 않는다면 그 효과는 절반에 그치고 만다. 진정한 TDD의 힘은 개개인의 뛰어난 기술을 넘어, 팀 전체가 공유하는 **'품질 우선의 문화'**에서 발현된다.

이 마지막 장에서는 키보드에서 잠시 손을 떼고, TDD를 우리 팀과 조직의 DNA에 각인시키는 방법에 대해 이야기한다. 기술의 영역을 넘어 소통, 프로세스, 그리고 문화의 영역으로 TDD를 확장하는 것이다. 이를 통해 우리는 단순히 좋은 코드를 작성하는 개발자를 넘어, 훌륭한 소프트웨어를 만드는 위대한 팀을 구축하는 리더로 성장하게 될 것이다.

---

## 00. TDD와 코드 리뷰(Code Review)의 시너지: 더 깊은 설계 논의를 이끌어내는 법

"TDD를 하면 모든 코드가 테스트로 검증되는데, 굳이 코드 리뷰가 필요한가요?" TDD를 처음 도입한 팀에서 흔히 나오는 질문이다. 대답은 "아니오"가 아니라, **"TDD는 코드 리뷰를 없애는 것이 아니라, 코드 리뷰를 한 차원 높은 수준으로 진화시킵니다"**이다.

TDD와 코드 리뷰는 서로를 대체하는 관계가 아니라, 서로의 약점을 보완하고 강점을 극대화하는 완벽한 시너지 파트너다.

### **TDD가 없는 코드 리뷰의 현실**

TDD 없이 작성된 코드의 리뷰(Pull Request/Merge Request)를 떠올려보자. 리뷰어는 상당한 정신적 에너지를 다음과 같은 기본적인 질문에 쏟아야 한다.

* "이 코드가 정말로 요구사항대로 동작할까?"
* "null 값이 들어오면 어떻게 되지? 예외는 제대로 처리했나?"
* "이 로직에 빠진 경계 조건(edge case)은 없을까?"

리뷰어는 코드를 한 줄 한 줄 따라가며 버그를 찾으려는 '인간 디버거' 역할을 강요받는다. 이는 매우 피곤하고, 비효율적이며, 본질적인 설계 문제를 놓치기 쉬운 방식이다.

### **TDD가 바꾸는 코드 리뷰의 풍경**

TDD를 통해 작성된 코드는 리뷰의 시작점부터 다르다. 제출된 코드 변경사항에는 프로덕션 코드와 함께, 그 코드의 행위를 증명하는 **테스트 코드 스위트**가 포함되어 있다.

1.  **"동작 하는가?"라는 질문은 기계에게 맡긴다.**
    CI 파이프라인에서 모든 테스트가 통과했다는 녹색불은 "이 코드는 명시된 요구사항에 따라 동작합니다"라는 사실을 객관적으로 증명한다. 리뷰어는 더 이상 코드의 기능적 올바름을 의심하며 시간을 낭비할 필요가 없다.

2.  **리뷰의 초점이 '구현'에서 '설계'로 이동한다.**
    가장 중요한 변화다. 기능 검증이라는 부담을 덜어낸 리뷰어와 개발자는 마침내 더 깊고 본질적인 논의에 집중할 수 있게 된다.

    * **Before TDD:** "이 `if`문에 `null` 체크가 빠졌네요."
    * **After TDD:** "테스트 케이스들을 보니 이 클래스의 책임이 너무 많은 것 같습니다. `OrderValidator`라는 별도의 클래스로 분리하는 건 어떨까요?"

    * **Before TDD:** "이 함수 이름은 오해의 소지가 있네요."
    * **After TDD:** "이 테스트의 이름(`given-when-then`)을 보니 우리가 해결하려는 문제가 명확하게 드러나네요. 이 의도를 살려서 클래스 이름을 `OrderDiscountPolicy`로 바꾸면 더 좋겠습니다."

3.  **테스트 코드가 최고의 리뷰 가이드가 된다.**
    리뷰어는 이제 프로덕션 코드를 보기 전에 **테스트 코드를 먼저 읽는 것**이 훨씬 효율적이다. 잘 작성된 테스트 코드는 변경된 기능의 요구사항과 의도를 가장 명확하게 설명하는 '실행 가능한 명세서'이기 때문이다. 테스트를 통해 코드의 목표를 먼저 이해하고 나면, 프로덕션 코드의 구현 방식을 훨씬 더 쉽게 파악하고 비판적으로 검토할 수 있다.

TDD는 코드 리뷰라는 인간의 지적 활동에서 '버그 찾기'라는 기계적인 노동을 분리해낸다. 이를 통해 코드 리뷰는 단순한 결함 찾기 과정이 아닌, 팀원들이 함께 모여 더 나은 설계를 논의하고, 서로의 성장을 도우며, 팀의 코딩 컨벤션과 아키텍처 원칙을 공유하는 **가장 중요한 지식 공유 및 멘토링 세션**으로 거듭나게 된다.