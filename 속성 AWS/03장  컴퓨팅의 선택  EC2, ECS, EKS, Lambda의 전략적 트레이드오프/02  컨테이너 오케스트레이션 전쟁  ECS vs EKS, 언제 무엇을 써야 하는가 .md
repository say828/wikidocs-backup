## 02. 컨테이너 오케스트레이션 전쟁: ECS vs EKS, 언제 무엇을 써야 하는가?

EC2가 제공하는 무한한 자유의 대가가 너무나 무거운 책임이라는 것을 깨달았다면, 우리는 자연스럽게 다음 단계인 **컨테이너(Container)**로 시선을 돌리게 된다. 1장에서 살펴보았듯, 컨테이너는 애플리케이션과 그 종속성을 하나의 표준화된 유닛으로 패키징하여 "내 컴퓨터에선 됐는데..."라는 고질적인 문제를 해결하는 혁신적인 기술이다. 그러나 수백, 수천 개의 컨테이너를 수동으로 관리하는 것은 EC2 인스턴스를 하나하나 관리하는 것과는 비교할 수 없는 복잡성의 재앙을 초래한다.

이때 필요한 것이 바로 **컨테이너 오케스트레이션(Container Orchestration)** 엔진이다. 오케스트레이션 엔진은 마치 교향악단의 지휘자처럼, 수많은 컨테이너라는 연주자들을 조화롭게 지휘하여 다음과 같은 복잡한 임무를 자동화한다.

* **스케줄링 (Scheduling):** 어떤 컨테이너를 어떤 서버(노드)에 배치할지 결정한다.
* **서비스 디스커버리 (Service Discovery):** 서비스 A가 서비스 B를 어떻게 찾아서 통신할 수 있는지 관리한다.
* **상태 관리 및 자가 치유 (Health Checking & Self-healing):** 비정상적인 컨테이너를 감지하여 자동으로 종료하고 새로운 컨테이너로 교체한다.
* **스케일링 (Scaling):** 트래픽 부하에 따라 컨테이너의 수를 자동으로 늘리거나 줄인다.
* **배포 자동화 (Deployment Automation):** 새로운 버전의 애플리케이션을 무중단으로 배포(롤링 업데이트, 블루/그린 등)한다.

AWS는 이 컨테이너 오케스트레이션을 위해 두 가지 핵심 서비스를 제공하며, 이 둘은 클라우드 네이티브 세계에서 가장 치열한 기술 전쟁 중 하나를 벌이고 있다: **ECS(Elastic Container Service)**와 **EKS(Elastic Kubernetes Service)**다. 이 둘의 선택은 단순히 API가 다른 서비스를 고르는 문제가 아니다. 이것은 **'AWS 생태계의 단순성'**과 **'오픈소스 표준의 유연성'** 사이의 근본적인 철학적 선택이다.

### ECS: AWS 네이티브의 단순함과 깊은 통합

ECS는 AWS가 자체적으로 개발하고 완전 관리하는(Fully-managed) 컨테이너 오케스트레이션 서비스다. ECS의 핵심 철학은 **단순함(Simplicity)**과 **AWS 생태계와의 완벽한 통합(Deep Integration)**에 있다. ECS를 사용하면 사용자는 복잡한 오케스트레이션 엔진의 컨트롤 플레인(Control Plane)을 직접 설치하거나 관리할 필요가 전혀 없다. 모든 복잡성은 AWS의 추상화 뒤에 감춰져 있으며, 사용자는 오직 자신의 컨테이너와 애플리케이션에만 집중하면 된다.

ECS는 IAM, VPC, 로드 밸런서, CloudWatch 등 다른 AWS 서비스들과 마치 하나의 서비스처럼 매끄럽게 연동된다. 이는 AWS 환경에 이미 익숙한 팀에게는 학습 곡선을 극적으로 낮추고, 인프라 구축 속도를 가속화하는 강력한 장점으로 작용한다.

### EKS: 쿠버네티스라는 오픈소스 표준의 힘

EKS는 오픈소스 컨테이너 오케스트레이션의 사실상 세계 표준인 **쿠버네티스(Kubernetes)**를 AWS에서 완전 관리형으로 제공하는 서비스다. EKS의 핵심 철학은 **표준(Standard)**과 **이식성(Portability)**, 그리고 **유연성(Flexibility)**에 있다. EKS는 100% 순수 오픈소스 쿠버네티스이며, AWS가 임의로 기능을 바꾸거나 제한하지 않음을 보장한다. 이는 온프레미스 데이터 센터나 다른 클라우드(GCP, Azure)에서 이미 쿠버네티스를 사용하고 있던 팀이 기존의 경험과 YAML 설정 파일, 운영 노하우를 거의 그대로 AWS로 가져올 수 있음을 의미한다.

쿠버네티스는 전 세계 수많은 개발자와 기업이 함께 발전시키는 거대하고 활발한 오픈소스 생태계를 가지고 있다. 서비스 메시(Istio, Linkerd), 모니터링(Prometheus, Grafana), CI/CD(ArgoCD, Flux) 등 클라우드 네이티브 생태계의 거의 모든 혁신적인 도구들이 쿠버네티스를 중심으로 탄생하고 발전한다. EKS를 선택하는 것은 바로 이 거대한 혁신의 물결에 동참하는 것이다.

### 결정의 순간: 언제 무엇을 써야 하는가?

그렇다면 우리의 'NextGen Commerce' 플랫폼에는 어떤 오케스트레이션 엔진이 더 적합할까? 이 질문에 답하기 위해, 우리는 유행이나 개인적 선호가 아닌, 명확한 기술적 및 조직적 기준에 따라 두 서비스를 비교해야 한다.

**[도표: ECS vs EKS 전략적 선택 가이드]**

| 기준 | ECS (Elastic Container Service) | EKS (Elastic Kubernetes Service) |
| :--- | :--- | :--- |
| **핵심 철학** | **AWS 네이티브 단순성**: AWS가 모든 것을 관리 | **오픈소스 표준**: 쿠버네티스 생태계의 힘 |
| **학습 곡선** | **낮음**: AWS에 익숙하다면 빠르게 습득 가능 | **높음**: 쿠버네티스 자체의 복잡한 개념(Pod, Service, Ingress 등) 학습 필요 |
| **운영 부담** | **매우 낮음**: 컨트롤 플레인이 완전 추상화됨 | **중간**: 컨트롤 플레인은 AWS가 관리하지만, 노드 그룹, CNI, 각종 애드온 관리는 여전히 사용자의 몫 |
| **생태계** | **AWS 생태계**: IAM, CloudWatch 등과 완벽 통합 | **쿠버네티스 생태계**: CNCF의 모든 오픈소스 도구와 통합 가능 |
| **이식성** | **낮음**: AWS에 종속적 | **높음**: 멀티/하이브리드 클라우드 전략에 유리 |
| **유연성/확장성** | **중간**: AWS가 제공하는 기능 내에서 동작 | **매우 높음**: CRD(Custom Resource Definition) 등을 통해 무한한 확장 가능 |
| **최적의 팀** | **빠른 출시가 중요한 팀**, AWS 경험이 풍부한 팀, 복잡성보다 **단순함을 선호**하는 팀 | **멀티 클라우드를 고려하는 팀**, 이미 쿠버네티스 경험이 있는 팀, **오픈소스 생태계를 적극 활용**하려는 팀 |

**결론 및 이 책의 선택:**

* 만약 당신의 팀이 AWS에 대한 깊은 경험을 가지고 있고, 가장 빠르게 컨테이너화된 애플리케이션을 배포하는 것이 최우선 목표라면, **ECS**는 환상적인 선택이다. 불필요한 복잡성을 제거하고 AWS가 제공하는 통합의 이점을 극대화할 수 있다.
* 반면, 당신의 조직이 특정 클라우드 벤더에 종속되는 것을 피하고 싶거나(Vendor Lock-in), 이미 쿠버네티스 생태계의 강력한 도구들을 활용하고 있거나, 앞으로 활용할 계획이라면 **EKS**가 전략적으로 올바른 선택이다. 초기 학습 비용과 운영 부담이 더 높지만, 장기적으로는 비교할 수 없는 유연성과 이식성을 제공한다.

이 책은 'AWS 클라우드 네이티브 아키텍처'를 다루지만, 동시에 현대 아키텍처의 가장 중요한 흐름인 오픈소스 표준과의 조화를 무시할 수 없다. 따라서 우리는 더 높은 유연성과 확장성, 그리고 거대한 생태계의 이점을 고려하여 **EKS를 주요 컨테이너 오케스트레이션 플랫폼으로 채택**하되, 특정 시나리오에서는 ECS의 단순함이 어떻게 강력한 무기가 될 수 있는지도 함께 논의할 것이다.

하지만 제어와 책임의 스펙트럼은 여기서 멈추지 않는다. 컨테이너 오케스트레이션조차 '차별성 없는 무거운 작업'으로 느껴지는 순간, 우리는 서버의 존재 자체를 지워버리는 궁극의 추상화, Lambda의 세계로 마지막 걸음을 내디뎌야 한다.