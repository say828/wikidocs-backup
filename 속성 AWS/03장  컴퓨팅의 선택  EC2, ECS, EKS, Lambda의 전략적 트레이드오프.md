# 03장: 컴퓨팅의 선택: EC2, ECS, EKS, Lambda의 전략적 트레이드오프

우리는 2장에서 IaC라는 견고한 대지를 다지고, 그 위에 VPC라는 첫 번째 주춧돌을 놓았다. 이제 이 대지 위에 아키텍처의 심장부, 즉 비즈니스 로직을 실제로 실행하고 처리할 **컴퓨팅(Compute)** 엔진을 올려놓을 차례다. AWS는 마치 최고급 레스토랑의 메뉴판처럼, 다양한 입맛과 상황에 맞는 풍부한 컴퓨팅 옵션을 제공한다. 완전한 제어권을 제공하는 가상 서버(EC2)부터, 컨테이너 운영을 자동화해주는 오케스트레이션 서비스(ECS, EKS), 그리고 서버의 존재 자체를 잊게 만드는 서버리스 함수(Lambda)까지.

이 다양한 선택지 앞에서 많은 아키텍트들이 혼란에 빠진다. "가장 좋은 컴퓨팅 서비스는 무엇인가?" 이 질문은 "가장 좋은 자동차는 무엇인가?"라는 질문만큼이나 어리석다. 오프로드를 달려야 한다면 SUV가, 서킷을 달려야 한다면 스포츠카가 정답이듯, 최적의 컴퓨팅 서비스는 당신의 워크로드가 가진 특성, 팀의 기술 역량, 그리고 비즈니스가 추구하는 목표에 따라 달라진다.

이 장의 목표는 각 서비스의 기능 목록을 나열하는 것이 아니다. 우리는 한 걸음 더 깊이 들어가, **'제어와 책임의 스펙트럼(Spectrum of Control and Responsibility)'**이라는 렌즈를 통해 각 컴퓨팅 옵션의 근본적인 철학과 그에 따르는 트레이드오프를 분석할 것이다. 언제 EC2라는 최후의 보루를 남겨둬야 하는지, ECS와 EKS라는 컨테이너 오케스트레이션 전쟁에서 어떤 기준으로 승자를 선택해야 하는지, 그리고 이벤트 기반 아키텍처의 심장인 Lambda가 가진 빛과 그림자는 무엇인지 명확히 이해하게 될 것이다. 이 장을 마치고 나면, 당신은 더 이상 유행이나 막연한 감이 아닌, 명확한 논리와 전략적 기준으로 당신의 아키텍처에 가장 적합한 심장을 이식할 수 있는 외과의사와 같은 통찰력을 갖게 될 것이다.

---

## 00. 제어와 책임의 스펙트럼: 서버 기반부터 서버리스까지

AWS 컴퓨팅 서비스를 선택하는 것은 단순히 기술을 고르는 행위가 아니라, '얼마나 많은 제어권을 가질 것인가'와 '얼마나 많은 책임을 AWS에 위임할 것인가' 사이의 전략적 줄다리기다. 이 관계를 시각적으로 표현한 것이 바로 **'제어와 책임의 스펙트럼'**이다. 스펙트럼의 한쪽 끝에는 사용자가 하드웨어 수준을 제외한 거의 모든 것을 직접 제어하고 책임지는 **IaaS(Infrastructure as a Service)** 모델의 EC2가 있다. 다른 쪽 끝에는 사용자가 오직 비즈니스 로직(코드)에만 집중하고 나머지 모든 운영 책임을 AWS에 위임하는 **FaaS(Function as a Service)** 모델의 Lambda가 존재한다. 그 사이에는 컨테이너라는 표준화된 유닛을 중심으로 제어와 책임의 균형을 맞춘 **CaaS(Container as a Service)** 모델의 ECS와 EKS가 위치한다.

[그림: 제어와 책임의 스펙트럼 (EC2 → ECS/EKS → Lambda)]

이 스펙트럼을 따라 오른쪽(서버리스)으로 이동할수록 다음과 같은 경향성을 보인다.

* **운영 부담 (Operational Overhead) ↓:** 서버 프로비저닝, OS 패치, 스케일링, 네트워킹 등 인프라 관리에 대한 책임이 줄어든다. 개발팀은 비즈니스 가치 창출에 더 집중할 수 있다.
* **민첩성 및 개발 속도 (Agility & Speed) ↑:** 인프라 준비 시간이 거의 없어 아이디어를 코드로 구현하여 시장에 출시하기까지의 시간(Time-to-Market)이 극적으로 단축된다.
* **비용 효율성 (Cost Efficiency) ↑:** 유휴 상태의 리소스가 거의 없다. 코드가 실행되는 정확한 시간과 사용량에 대해서만 비용을 지불하는 모델로 전환되어, 특히 트래픽 예측이 어려운 워크로드에서 비용을 최적화할 수 있다.
* **제어권 및 유연성 (Control & Flexibility) ↓:** 반대급부로, 사용자가 직접 제어할 수 있는 영역은 줄어든다. 특정 OS 커널 파라미터를 튜닝하거나, 독특한 네트워크 구성을 적용하거나, 특정 하드웨어(예: GPU)에 대한 세밀한 제어가 필요한 경우에는 한계에 부딪힐 수 있다.

**[도표: AWS 컴퓨팅 서비스별 책임 모델 비교 (Shared Responsibility Model)]**

| 관리 영역 | EC2 (IaaS) | ECS/EKS (CaaS) | Lambda (FaaS) |
| :--- | :--- | :--- | :--- |
| **애플리케이션 코드** | **사용자 책임** | **사용자 책임** | **사용자 책임** |
| **컨테이너 런타임** | **사용자 책임** | **사용자 책임** | **AWS 책임** |
| **운영체제(OS)** | **사용자 책임** | AWS 책임 (Fargate) / 사용자 책임 (EC2) | **AWS 책임** |
| **가상화/서버** | **AWS 책임** | **AWS 책임** | **AWS 책임** |
| **물리적 인프라**| **AWS 책임** | **AWS 책임** | **AWS 책임** |

이 스펙트럼과 책임 모델은 절대적인 선악의 기준이 아니다. 당신의 팀이 OS 레벨까지 완벽하게 제어할 수 있는 깊이 있는 인프라 역량을 보유하고 있고, 비즈니스 로직이 특정 OS 기능에 강하게 의존하고 있다면 EC2는 여전히 합리적인 선택이다. 반면, 팀의 최우선 목표가 빠르게 변화하는 시장에 신속하게 대응하여 새로운 기능을 출시하는 것이라면, 운영 부담을 최소화하는 Lambda나 Fargate가 훨씬 더 전략적인 선택이 될 것이다.

결국, 아키텍트의 역할은 이 스펙트럼 위에서 자신의 워크로드와 조직이 서야 할 최적의 위치(Sweet Spot)를 찾아내는 것이다. 이를 위해, 이제 스펙트럼의 각 지점을 대표하는 서비스들의 구체적인 특성과 트레이드오프를 하나씩 해부해 보자. 가장 많은 제어권을 제공하는, 그러나 가장 무거운 책임을 요구하는 EC2부터 시작한다.