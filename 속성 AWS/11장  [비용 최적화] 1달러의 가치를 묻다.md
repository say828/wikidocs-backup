# 11장: [비용 최적화] 1달러의 가치를 묻다

우리는 10장에서 성능 효율성의 기술을 연마하여, 우리 시스템을 F1 경주용 머신처럼 빠르고 민첩하게 만들었다. 사용자는 이제 거의 즉각적인 응답 속도에 감탄하며, 우리의 서비스는 그 어떤 트래픽 급증에도 흔들림 없는 성능을 자랑한다. 하지만 이 모든 것을 이룬 후, CFO가 당신의 사무실 문을 두드리며 한 장의 청구서를 내민다. 거기에는 당신이 상상했던 것보다 훨씬 더 큰 숫자가 적혀있다. 최고의 성능을 자랑하는 F1 머신이라도, 연료비가 감당할 수 없다면 레이스를 완주할 수 없다.

이것이 바로 AWS Well-Architected Framework의 다섯 번째 원칙, **비용 최적화(Cost Optimization)**가 필요한 이유다. 클라우드의 가장 큰 축복인 '사용한 만큼 지불(Pay-as-you-go)' 모델은, 동시에 통제되지 않을 경우 가장 큰 저주가 될 수 있는 양날의 검이다. 비용 최적화는 단순히 '가장 저렴한 서비스를 찾는 것'이 아니다. 그것은 **"비즈니스 가치를 창출하는 데 불필요한 모든 비용을 제거하고, 지출되는 모든 1달러가 어떻게 비즈니스 성과로 되돌아오는지 끊임없이 질문하고 증명하는"** 과학적인 재무 관리 기술이자 조직 문화다.

이 장에서는 더 이상 클라우드 비용을 운명처럼 받아들이지 않고, 그것을 적극적으로 관리하고 최적화하는 아키텍트의 역할을 탐구한다. 우리는 먼저 어둠 속에서 비용이 새어나가는 지점을 밝히는 등불, 즉 **비용 가시성**을 확보하는 것부터 시작할 것이다. 그리고 우리 예산의 가장 큰 부분을 차지하는 **컴퓨팅**과 **스토리지** 비용을 절감하기 위한 구체적이고 실용적인 전략들을 배우게 될 것이다. 마지막으로, 우리는 서버리스 아키텍처가 어떻게 비용 모델의 패러다임 자체를 바꾸는지 그 본질을 이해하게 될 것이다. 이 장을 통해 당신은 기술적 우수성과 재무적 책임을 겸비한, 진정한 의미의 클라우드 아키텍트로 거듭날 것이다.

---

## 00. 비용 가시성 확보: AWS Cost Explorer와 태깅(Tagging) 전략

"최적화할 수 없는 것은 측정할 수 없는 것이다(You can't optimize what you can't measure)." 비용 최적화의 여정은 이 오래된 격언에서 시작된다. 매달 날아오는 AWS 청구서의 총액만 보고 한숨을 쉬는 것은 아무런 도움이 되지 않는다. 우리는 먼저 우리 돈이 **어디서, 어떻게, 왜** 사용되고 있는지 명확하게 파악할 수 있는 **가시성(Visibility)**을 확보해야 한다.

AWS는 이를 위해 **AWS Cost Explorer**라는 강력한 시각화 도구를 제공한다. Cost Explorer를 통해 우리는 지난 몇 달간의 비용 추이를 분석하고, 서비스별(EC2, S3, RDS 등) 비용을 상세히 분류하며, 심지어 미래의 비용을 예측할 수도 있다. 하지만 Cost Explorer가 진정한 힘을 발휘하기 위해서는, 우리가 반드시 먼저 해야 할 가장 중요한 규율이 있다. 바로 **태깅(Tagging)**이다.

**태그(Tag)**는 AWS 리소스에 할당할 수 있는 키-값(Key-Value) 쌍의 메타데이터다. 이는 마치 슈퍼마켓의 모든 상품에 가격표와 상품 분류 스티커를 붙이는 것과 같다. 태깅이 없다면, 월말에 받는 청구서는 그저 "식료품 총액: 100만 원"이라고 적힌 영수증과 같아서, 무엇을 얼마나 샀는지 전혀 알 수 없다. 하지만 모든 상품에 '정육', '과일', '유제품'과 같은 태그를 붙였다면, 우리는 "이번 달에는 정육에 50만 원, 과일에 30만 원을 썼구나"라고 정확하게 분석할 수 있다.



**체계적인 태깅 전략은 선택이 아닌 필수다.** 모든 리소스는 생성되는 시점에 다음과 같은 표준 태그를 일관되게 가져야 한다.

* **Project / Service:** 이 리소스가 속한 프로젝트나 마이크로서비스의 이름 (예: `nextgen-commerce-orders`)
* **Environment:** 이 리소스가 사용되는 환경 (예: `dev`, `staging`, `production`)
* **Owner / Team:** 이 리소스를 책임지는 팀이나 개인의 이름 (예: `platform-engineering-team`)
* **CostCenter:** 이 리소스의 비용이 귀속될 부서의 비용 센터 코드 (예: `R&D-123`)

이러한 태깅 전략이 갖춰지면, 우리는 Cost Explorer에서 이 태그들을 기준으로 비용을 필터링하고 그룹화할 수 있다. "지난달 `production` 환경의 `nextgen-commerce-orders` 서비스에서 발생한 비용을 `platform-engineering-team` 별로 분류해서 보여줘"와 같은 정교한 분석이 가능해진다. 이는 단순히 비용을 파악하는 것을 넘어, 각 팀이 자신들이 사용한 리소스에 대한 **책임감과 주인의식**을 갖게 하는 **FinOps(Cloud Financial Operations)** 문화의 첫걸음이다.

또한, **AWS Budgets**를 사용하여 특정 태그를 가진 리소스 그룹에 대한 예산을 설정하고, 실제 비용이 예산의 특정 비율(예: 80%)을 초과하면 자동으로 알림을 받도록 설정할 수 있다. 이를 통해 우리는 비용이 통제 불능 상태가 되기 전에 문제를 조기에 감지하고 조치를 취할 수 있다.

이제 우리의 눈에 비용이라는 안개가 걷혔다. 다음 절에서는 이 명확한 시야를 바탕으로, 비용의 가장 큰 부분을 차지하는 컴퓨팅 자원을 어떻게 현명하게 구매하고 사용할지 구체적인 전략을 알아볼 것이다.