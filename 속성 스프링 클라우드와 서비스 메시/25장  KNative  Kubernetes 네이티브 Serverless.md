# 25장: KNative: Kubernetes 네이티브 Serverless

## 00. 왜 KNative인가?: On-Premise 및 하이브리드 클라우드를 위한 Serverless (Why)

24장에서 우리는 AWS Lambda와 같은 클라우드 FaaS 플랫폼의 강력함과 편리함을 확인했습니다. 하지만 동시에 **'벤더 종속성(Vendor Lock-in)'**이라는 치명적인 한계 또한 명확히 인지했습니다. AWS Lambda에 맞춰 작성된 함수와 트리거 설정은 Google Cloud Functions나 Azure Functions에서 그대로 동작하지 않습니다.

여기서 최고의 실무자는 다음과 같은 질문을 던져야 합니다.
* "우리의 데이터센터(On-Premise)에 있는 쿠버네티스 클러스터 위에서도 서버리스를 구현할 수는 없을까?"
* "AWS를 사용하다가 Google Cloud로 이전해야 할 때, 모든 서버리스 함수를 재작성하지 않고 마이그레이션할 수는 없을까?"
* "여러 클라우드를 동시에 사용하는 하이브리드(Hybrid) 환경에서 일관된 서버리스 개발 모델을 유지할 수는 없을까?"

이 모든 질문에 대한 해답이 바로 **KNative(케이네이티브)**입니다.

---

### KNative: "당신의 쿠버네티스를 서버리스 플랫폼으로"

**KNative**는 구글이 주도하여 개발하고 CNCF에 기증한 오픈소스 프로젝트로, **모든 쿠버네티스 클러스터 위에 서버리스 기능을 제공**하는 것을 목표로 합니다. 즉, AWS Lambda와 같은 특정 클라우드 제공업체의 FaaS 플랫폼을 사용하는 대신, 우리가 이미 보유하고 있는 **'쿠버네티스' 자체를 서버리스 플랫폼으로 변신**시켜주는 컴포넌트들의 집합입니다.

**범용 어댑터 비유 🔌:**
* **클라우드 FaaS (AWS Lambda 등):** 특정 국가(AWS)에서만 사용할 수 있는 고유한 규격의 전자제품과 같습니다. 다른 나라(Google Cloud)로 이사 가면 쓸모가 없어집니다.
* **KNative:** **'유니버설 여행용 어댑터'**와 같습니다. 당신의 표준 가전제품(컨테이너 이미지)을 이 어댑터(KNative)에 꽂기만 하면, 전 세계 어느 나라의 콘센트(모든 쿠버네티스 클러스터)에서도 사용할 수 있습니다.



---

### KNative를 선택하는 이유

1.  **벤더 종속성 완전 탈피 및 이식성 (Portability):**
    이것이 KNative의 가장 핵심적인 가치입니다. 개발자는 서버리스 애플리케이션을 **'표준 컨테이너 이미지'**로 빌드하기만 하면 됩니다. 이 이미지는 KNative가 설치된 곳이라면 사내 데이터센터든, AWS(EKS)든, Google Cloud(GKE)든 **어디에서나 동일하게 배포하고 실행**할 수 있습니다.

2.  **쿠버네티스 생태계의 완벽한 활용:**
    KNative는 완전히 새로운 플랫폼이 아니라, **기존 쿠버네티스 위에 설치되는 '애드온'**입니다. 따라서 우리는 `kubectl`, `Helm`, `Prometheus`, `Fluentd` 등 이미 학습한 모든 쿠버네티스 생태계의 도구들을 그대로 활용할 수 있습니다. 특히, KNative는 정교한 트래픽 라우팅과 버전 관리를 위해 내부적으로 **Istio(서비스 메시)**를 활용하므로, 우리가 21~23장에서 배운 지식과 완벽하게 연결됩니다.

3.  **컨테이너 네이티브 (Container-Native):**
    많은 FaaS 플랫폼이 코드(.zip)를 업로드하는 방식을 사용하는 반면, KNative의 배포 단위는 **'컨테이너 이미지'**입니다. 이는 개발자가 언어나 프레임워크, 라이브러리 의존성에 제약 없이, 자신이 원하는 어떤 기술 스택이든 자유롭게 사용하여 함수를 패키징할 수 있다는 의미입니다.

4.  **단순화된 개발 경험:**
    개발자는 복잡한 `Deployment`, `Service`, `HPA`, `Istio VirtualService` 등을 직접 관리할 필요가 없습니다. KNative가 제공하는 **단 하나의 `Service`라는 리소스**만 정의하면, KNative가 이 모든 복잡한 하위 리소스들을 **자동으로 생성하고 관리**하여 서버리스 환경을 구성해 줍니다.

---

### KNative의 핵심 컴포넌트

KNative는 크게 두 가지 핵심 컴포넌트로 구성됩니다.
* **Serving (서빙):** 요청 기반의 **'Scale-to-Zero'**를 담당합니다. HTTP 요청이 들어왔을 때 컨테이너를 실행하고, 트래픽이 없으면 Pod의 개수를 0으로 줄여주는 핵심적인 서버리스 컴퓨팅 기능을 제공합니다.
* **Eventing (이벤팅):** Kafka, 클라우드 이벤트 소스 등 다양한 이벤트 소스로부터 이벤트를 수신하고, 이를 KNative Serving으로 생성된 서비스(함수)로 라우팅하는 **이벤트 기반 워크플로우**를 구축하기 위한 표준화된 방법을 제공합니다.

결론적으로, KNative는 서버리스의 장점(이벤트 기반, Scale-to-Zero)과 쿠버네티스의 장점(표준화, 이식성, 생태계)을 결합한 **'쿠버네티스 네이티브 서버리스'의 표준**입니다. 이를 통해 기업은 특정 클라우드 벤더에 종속되지 않고, 자신만의 서버리스 플랫폼을 유연하게 구축하고 운영할 수 있습니다.