## 우리가 만들 이커머스 프로젝트 도메인 개요: 회원, 상품, 주문, 결제, 배송

이론은 구체적인 예시가 있을 때 비로소 생명력을 얻습니다. 이 책의 모든 여정은 우리가 직접 구축할 '이커머스(E-commerce)' 프로젝트를 중심으로 진행됩니다. 이 도메인을 선택한 이유는, MSA의 거의 모든 난제(트랜잭션, 데이터 일관성, 비동기 통신, 대용량 트래픽)를 압축적으로 경험할 수 있기 때문입니다.

우리는 이 복잡한 이커머스 시스템을 02장(DDD)에서 식별할 **바운디드 컨텍스트(Bounded Context)**를 기준으로, 5개의 핵심 마이크로서비스로 분리하여 설계할 것입니다.

### 1. 회원 서비스 (Member Service)

* **책임:** 고객의 회원 가입, 로그인, 정보 수정, 탈퇴를 관리합니다.
* **주요 기능:** JWT(JSON Web Token) 기반의 인증(Authentication)을 처리하며, API 게이트웨이와 연동하여 시스템 전반의 사용자 식별을 책임집니다. (04장)
* **특징:** 모든 서비스에서 가장 기본이 되는 데이터(회원 ID, 이름, 등급)를 제공합니다.

### 2. 상품 서비스 (Product Service)

* **책임:** 상품 정보(이름, 가격, 설명)를 관리하고, 가장 중요한 **'재고(Inventory)'**를 관리합니다.
* **주요 기능:** 상품 전시, 상세 정보 조회, 그리고 '주문' 시 재고 차감을 담당합니다.
* **특징:** '상품 상세 조회'처럼 읽기(Read) 요청이 압도적으로 많고, '재고 차감'처럼 쓰기(Write) 경쟁이 치열하게 발생합니다. `CQRS`(09장) 및 `캐싱`(13장) 패턴을 적용하기에 가장 이상적인 도메인입니다.

### 3. 주문 서비스 (Order Service)

* **책임:** 고객의 '장바구니'부터 '주문 생성'까지의 핵심 비즈니스 로직을 담당합니다.
* **주요 기능:** 주문을 생성(Create)하고, 주문 내역을 조회(Read)합니다.
* **특징:** MSA에서 가장 복잡한 서비스입니다. 주문을 생성하기 위해 '회원' 정보가 필요하고, '상품'의 재고를 확인해야 하며, '결제'를 요청하고, '배송'을 위한 이벤트를 발행해야 합니다. `SAGA` 패턴(10장)을 이용한 분산 트랜잭션의 중심이 됩니다.

### 4. 결제 서비스 (Payment Service)

* **책임:** 실제 외부 PG(Payment Gateway)사와 연동하여 결제를 승인하고 취소하는 역할을 담당합니다.
* **주요 기능:** '주문' 서비스의 요청을 받아 결제를 시도하고, 그 결과를 '주문' 서비스에 통보합니다.
* **특징:** `SAGA` 패턴에서 '주문'에 대한 보상 트랜잭션(결제 취소)을 수행하는 중요한 역할을 맡습니다.

### 5. 배송 서비스 (Shipping Service)

* **책임:** '주문'이 '결제' 완료되었을 때, 상품 배송을 시작하고 배송 상태(준비 중, 배송 중, 배송 완료)를 추적합니다.
* **주요 기능:** `Kafka`를 통해 '주문 완료' 이벤트를 구독(Subscribe)하여 배송 프로세스를 시작합니다. (07장)
* **특징:** `주문` 서비스와 완벽하게 분리된 비동기(Async) 이벤트 기반 아키텍처(EDA)를 연습하기 위한 핵심 도메인입니다.

이 5개의 서비스는 이 책 전반에 걸쳐 `Feign`으로 동기 통신을 하고, `Kafka`로 비동기 이벤트를 주고받으며, `Kubernetes`와 `Istio` 위에서 함께 작동할 것입니다.